```c
#include <stdio.h>

int secret_function() {
    asm("jmp %esp");
}

void receive_feedback()
{
    char buffer[64];

    puts("Please leave your comments for the server admin but DON'T try to steal our flag.txt:\n");
    gets(buffer);
}

int main()
{
    setuid(0);
    setgid(0);

    receive_feedback();

    return 0;
}
```

```bash
gcc prog.c -o prog -fno-stack-protector -no-pie -m32
```

This program was compiled without the `-z execstack` flag. This means `NX` was enabled, so we can't do the same thing we did in [[Shellcode injection]], since stack data won't be executable.

